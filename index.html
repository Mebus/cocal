<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>CoCal</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/main.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="js/cocal.js"></script>
</head>

<body>
  <nav class="navbar navbar-cocal navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">CoCal</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="#home">Home</a></li>
          <li><a href="#security">Security</a></li>
          <li><a href="#generator">Get your URL</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-md-6 text-justify">
        <p id="home">
          CAMPUS Office supports exporting your schedule for a semester as iCal
          file. But whenever you'll update an event of your schedule (or your
          professor does), there won't be any updates on your devices, as there
          is no synchronization between the devices and the CAMPUS Office
          server.
        </p>
        <p>
          However, with some magic, the download URL of CAMPUS Office can be
          converted to a live subscription iCal feed, causing your calendar to
          refresh for updates in CAMPUS Office. URLs generated by this tool may
          be used by any common calendar software or web services like Google
          Calendar as <i>calendar feed</i>.
        </p>

        <h2 id="security">Security</h2>
        <p>
          Your credentials will not be uploaded to this server. Your calendar
          software will get its updates directly from your university's CAMPUS
          Office server. However, if you don't trust the owner of this server,
          you may <a href="https://github.com/alehaa/cocal">download Cocal</a>
          and run it on your local machine.
        </p>
        <p>
          You <b>must not</b> pass the generated URL on to <i>anyone</i>, since
          it contains your personal CAMPUS login credentials and grants access
          to your personal CAMPUS Office account. Just copy it into your
          calendar software (or web service) but do not save it anywhere else.
        </p>
        <p>
          If you accidentally passed the link or lost a device with a CAMPUS
          Office calendar feed subscription, you should <b>immediately</b>
          change your CAMPUS Office password.
        </p>

        <h2>Report a Bug</h2>
        <p>
          You found a bug or your university is not listed yet? Please
          <a href="https://github.com/alehaa/cocal/issues/new">file an issue at
          GitHub</a>, so we can fix it as soon as possible.
        </p>
      </div>

      <div class="col-md-6">
        <div class="panel panel-default" id="generator">
          <div class="panel-heading">
            <h3 class="panel-title">Generate your calendar feed URL</h3>
          </div>
          <div class="panel-body">
            <form class="form-horizontal" id="url_generator">
              <div class="form-group">
                <div class="col-sm-12">
                  <select class="form-control" id="cocal_server" required>
                    <option value="" disabled selected>Select your university</option>
                    <option value="www.campusoffice.fh-aachen.de">Aachen, FH</option>
                    <option value="www.campus.rwth-aachen.de/office">Aachen, RWTH</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-6">
                  <input type="text" class="form-control" id="username"
                         placeholder="CAMPUS username" autocapitalize="off" required>
                </div>
                <div class="col-sm-6">
                  <input type="password" class="form-control" id="password"
                         placeholder="CAMPUS password" required>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-12 text-right">
                  <button type="submit" class="btn btn-default">generate</button>
                </div>
              </div>
            </form>
            <script>
              $('#url_generator').submit(function () {
                cocal_generate_url();
                return false;
              });
            </script>
          </div>
        </div>

        <div id="output" class="hidden">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>This is your personal Campus Office calendar feed URL:</p>
              <p class="text-center"><a id="url"></a></p>
              <div class="alert alert-danger" role="alert">
                <b>Attention:</b> You must not pass this URL on to
                <b>anyone</b>, since it contains your personal CAMPUS login
                credentials!
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <nav class="navbar navbar-cocal navbar-fixed-bottom">
    <div class="container">
      <p class="navbar-text navbar-right text-muted">
        Contribute at <a href="https://github.com/alehaa/cocal">GitHub</a>.
      </p>
    </div>
  </nav>
</body>

</html>
